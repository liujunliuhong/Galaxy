
ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†ğŸ˜†
å±å¹•æ—‹è½¬
ä¸€ã€å„ä¸ªé¡µé¢çŠ¶æ€æ é¢œè‰²ã€æ˜¯å¦å¯ä»¥æ—‹è½¬çš„é…ç½®
1ã€å…ˆè®¾ç½®å·¥ç¨‹æ”¯æŒç«–å±å’Œæ¨ªå±ï¼Œå³ä½¿å½“å‰å·¥ç¨‹ä»æ¥æ²¡æœ‰å‡ºç°è¿‡æ¨ªå±ï¼›
2ã€å·¥ç¨‹çš„åŸºç¡€çŠ¶æ€æ é¢œè‰²æ ¹æ®å®é™…æƒ…å†µæ¥å®šï¼›

äºŒã€åˆ†æ
ç›®å‰APPä¸­æœ€å¸¸è§çš„æƒ…å†µæ˜¯ï¼šAPPå¤§éƒ¨åˆ†ç•Œé¢éƒ½æ˜¯ç«–å±çš„ï¼Œåªæœ‰ä¸ªåˆ«ç•Œé¢æ˜¯æ¨ªå±çš„

UITabbarViewController
UINavigationController
UIViewController

è¦å…·ä½“æ§åˆ¶å•ä¸ªç•Œé¢çš„æ—‹è½¬ï¼Œå°±éœ€è¦ä»è·Ÿè§†å›¾æ§åˆ¶å™¨å¼€å§‹

æˆ‘ä¸ªäººå€¾å‘äºè¿™æ ·ä¸€ä¸ªAPPå±‚çº§ç»“æ„

                -> navi -> loginVC
                |
navi -> rootVC ->
                |
                -> home

å…¶ä¸­rootVCå¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œæ¯”å¦‚ç®¡ç†ç™»å½•æ¨¡å—å’Œhomeæ¨¡å—çš„åˆ‡æ¢ï¼›ä¸€äº›åˆå§‹åŒ–æ–¹æ³•ï¼Œç­‰ç­‰ã€‚ã€‚ã€‚


extension UINavigationController {
    open override var preferredStatusBarUpdateAnimation: UIStatusBarAnimation {
        if let childVC = self.topViewController?.children.last {
            return childVC.preferredStatusBarUpdateAnimation
        }
        return self.topViewController?.preferredStatusBarUpdateAnimation ?? .fade
    }

    open override var childForStatusBarHidden: UIViewController? {
        if let childVC = self.topViewController?.children.last {
            return childVC
        }
        return self.topViewController
    }



    open override var childForStatusBarStyle: UIViewController? {
        if let childVC = self.topViewController?.children.last {
            return childVC
        }
        return self.topViewController
    }

    open override var shouldAutorotate: Bool {
        if let childVC = self.topViewController?.children.last {
            return childVC.shouldAutorotate
        }
        return self.topViewController?.shouldAutorotate ?? false
    }

    open override var childForHomeIndicatorAutoHidden: UIViewController? {
        if let childVC = self.topViewController?.children.last {
            return childVC
        }
        return self.topViewController
    }

    open override var supportedInterfaceOrientations: UIInterfaceOrientationMask {
        if let childVC = self.topViewController?.children.last {
            return childVC.supportedInterfaceOrientations
        }
        return self.topViewController?.supportedInterfaceOrientations ?? .all
    }

    open override var preferredInterfaceOrientationForPresentation: UIInterfaceOrientation {
        if let childVC = self.topViewController?.children.last {
            return childVC.preferredInterfaceOrientationForPresentation
        }
        return self.topViewController?.preferredInterfaceOrientationForPresentation ?? .portrait
    }
}

extension UITabBarController {
    open override var preferredStatusBarUpdateAnimation: UIStatusBarAnimation {
        return self.selectedViewController?.preferredStatusBarUpdateAnimation ?? .none
    }

    open override var childForStatusBarStyle: UIViewController? {
        return self.selectedViewController?.childForStatusBarStyle
    }

    open override var childForHomeIndicatorAutoHidden: UIViewController?{
            return self.selectedViewController
    }

    open override var childForStatusBarHidden: UIViewController? {
        return self.selectedViewController?.childForStatusBarHidden
    }

    open override var shouldAutorotate: Bool{
        return self.selectedViewController?.shouldAutorotate ?? false
    }

    open override var supportedInterfaceOrientations: UIInterfaceOrientationMask {
        return .all
    }

    open override var preferredInterfaceOrientationForPresentation: UIInterfaceOrientation {
        return self.selectedViewController?.preferredInterfaceOrientationForPresentation ?? .portrait
    }
}

func YH_ForcedToRotation(_ rotation: UIInterfaceOrientation) {
    let unkown = NSNumber.init(value: UIInterfaceOrientation.unknown.rawValue)
    UIDevice.current.setValue(unkown, forKey: "orientation")
    let set = NSNumber.init(value: rotation.rawValue)
    UIDevice.current.setValue(set, forKey: "orientation")
}

1ã€è®¾ç½®info.plist ä¸­ View controller-based status bar appearance ä¸º YES
2ã€TARGETSè®¾ç½®æ”¯æŒæ‰€æœ‰æ–¹å‘
3ã€TARGETSçš„Main Interfaceé‡Œé¢çš„Mainå»æ‰(å¾ˆé‡è¦ï¼Œå¦åˆ™ä¼šå‡ºç°ç•Œé¢æ²¡æ—‹è½¬ï¼Œä½†æ˜¯çŠ¶æ€æ æ—‹è½¬çš„æƒ…å†µ)
4ã€æ¥ä¸‹æ¥å°±å¯ä»¥æ ¹æ®é¡µé¢ç»“æ„è®¾ç½®æ—‹è½¬äº†
